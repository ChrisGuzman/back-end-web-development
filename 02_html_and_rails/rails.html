<!DOCTYPE html>
<html>
  <head>
    <title>Rails</title>
    <meta charset="utf-8" />

    <script src="js/remark-0.4.4.min.js"></script>
    <script src="js/jquery.min.js"></script>

    <script>
      remark.config({
        highlightStyle: "solarized_dark"
      });

      var hljs = remark.highlighter.engine();

      // extract the embedded styling from ansi spans
      remark.on('ready', function() {
        $('code.terminal > span.ansi').replaceWith(function(i, x) {
          return(x.replace(/&lt;(\/?(\w+).*?)&gt;/g, '<$1>'))
        });
      });
    </script>
    <script src="js/terminal.language.js"></script>
    <link rel="stylesheet" type="text/css" href="css/droid_serif.css" />
    <link rel="stylesheet" type="text/css" href="css/yanone_kaffeesatz.css" />
    <style type="text/css">
      body {
        font-family: 'Droid Serif';
        font-size: medium;
      }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: 400;
        margin-bottom: 0;
      }
      .small * {
        font-size: small !important;
      }
      code {
        border-radius: 5px;
      }
      .inverse {
        background: #272822;
        color: #777872;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }
      .footnote {
        position: absolute;
        font-size: small;
        bottom: 3em;
        right: 3em;
      }
    </style>
  </head>
  <body><textarea id="source" readonly>

class: middle, center

# Rails

![Rails](img/rails.png)

[http://pjb3.me/bewd-rails](http://pjb3.me/bewd-rails)

.footnote[
  created with [remark](http://github.com/gnab/remark)
]

---

# Install Postgres 9.2

Postgres 9.2 is the database we're going to use

## Windows

http://www.enterprisedb.com/products-services-training/pgdownload#windows

## Mac

    .terminal
    $ brew install postgresql

Follow post-install steps

    .terminal
    $ initdb /usr/local/var/postgres -E utf8
    $ launchctl load ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist

## Verify you can log in

    .terminal
    $ psql -U postgres
    psql (9.2.4)
    Type "help" for help.

    postgres=#

---

# Install Rails

    .terminal
    $ gem install rails

---

# Create A New Project

Create a new Rails app using the Postgresql database

    .terminal
    $ rails new betastore -d postgresql
          create
          create  README.rdoc
          create  Rakefile
          create  config.ru
          create  .gitignore
          create  Gemfile
          create  app
          create  app/assets/javascripts/application.js
          create  app/assets/stylesheets/application.css
          create  app/controllers/application_controller.rb
          create  app/helpers/application_helper.rb
          create  app/views/layouts/application.html.erb
          create  app/assets/images/.keep
          create  app/mailers/.keep
          create  app/models/.keep
          create  app/controllers/concerns/.keep
          create  app/models/concerns/.keep
          ...

---

# Project Structure

    .terminal
    betastore
    ├── app - Application code
    ├── config - Configuration code
    ├── db - Database modifications
    ├── lib - Generic code
    ├── log - Log files
    ├── public - HTML/CSS/JavaScript/Images
    ├── test - Test code
    └── vendor - 3rd party code

---

# Model-View-Controller (MVC)

The MVC pattern keeps persistence and presentation code separate

    .terminal
    ├── app
    │   ├── controllers
    │   ├── models
    │   └── views
    └── config
        └── routes.rb

## Routes

Control which controller action handles the request

## Controller

Coordinates between models and views

## Model (persistence)

Used by the controller to store/retrieve data from the database

## View (presentation)

Templates used to generate HTML

---

# How Requests Are Handled in Rails Apps

![MVC](img/request_diagram.png)

1.  Browser makes a request
2.  Router determines which controller action should handle the request
3.  Controller uses models to store/retrieve data
4.  Models make SQL calls to store/retrieve data from the database
5.  Controller passes data to the view templates to generate an HTML page
6.  Controller returns the HTML page to the browser to be rendered

  </textarea><div id="slideshow"></div>
  </body>
</html>